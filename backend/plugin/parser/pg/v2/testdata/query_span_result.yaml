- description: Multiple-Row subquery in where clause
  statement: SELECT city, (SELECT COUNT(*) FROM paintings p WHERE g.id = p.gallery_id)
    AS total_paintings FROM galleries g;
  connectedDatabase: db
  metadata: |-
    {
      "name":  "db",
      "schemas":  [
        {
          "name": "public",
          "tables":  [
            {
              "name":  "galleries",
              "columns":  [
                {
                  "name":  "id"
                },
                {
                  "name":  "city"
                }
              ]
            },
            {
              "name":  "paintings",
              "columns":  [
                {
                  "name":  "gallery_id"
                },
                {
                  "name":  "artist_id"
                },
                {
                  "name":  "title"
                },
                {
                  "name":  "price"
                }
              ]
            }
          ]
        }
      ]
    }
  spanResult:
  - name: city
    sourcecolumns:
      ? server: ""
        database: db
        schema: public
        table: galleries
        column: city
      : true
  - name: total_paintings
    sourcecolumns: {}
