{
  "user": "users/101",
  "method": "/bytebase.v1.SettingService/UpdateSetting",
  "parent": "workspaces/e85dfa8f-c232-4962-9e91-6417fad9fdcb",
  "request": "",
  "resource": "settings/bb.workspace.approval",
  "response": "",
  "severity": "INFO",
  "serviceData": {
    "name": "settings/bb.workspace.approval",
    "@type": "type.googleapis.com/bytebase.v1.Setting",
    "value": {
      "workspaceApprovalSettingValue": {
        "rules": [
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "PROJECT_MEMBER" }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "PROJECT_OWNER" }
                    ]
                  }
                ]
              },
              "title": "TestItOut",
              "creator": "users/nakano@bytebase.com",
              "description": "wow"
            },
            "condition": {}
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      {
                        "type": "ANY_IN_GROUP",
                        "groupValue": "WORKSPACE_OWNER"
                      }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      {
                        "type": "ANY_IN_GROUP",
                        "groupValue": "WORKSPACE_OWNER"
                      }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      {
                        "type": "ANY_IN_GROUP",
                        "groupValue": "WORKSPACE_OWNER"
                      }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      {
                        "type": "ANY_IN_GROUP",
                        "groupValue": "WORKSPACE_OWNER"
                      }
                    ]
                  }
                ]
              },
              "title": "TestItOut",
              "creator": "users/azusaings@gmail.com",
              "description": "wow"
            },
            "condition": {}
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "PROJECT_MEMBER" }
                    ]
                  }
                ]
              },
              "title": "TestItOut",
              "creator": "users/azusaings@gmail.com",
              "description": "wow"
            },
            "condition": { "expression": "source == \"DDL\" && level == 300" }
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "PROJECT_OWNER" }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "WORKSPACE_DBA" }
                    ]
                  }
                ]
              },
              "title": "Project Owner -> DBA",
              "creator": "users/support@bytebase.com",
              "description": "The system defines the approval process, first the project Owner approves, then the DBA approves."
            },
            "condition": {}
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "PROJECT_OWNER" }
                    ]
                  }
                ]
              },
              "title": "Project Owner",
              "creator": "users/support@bytebase.com",
              "description": "The system defines the approval process and only needs the project Owner o approve it."
            },
            "condition": {}
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "WORKSPACE_DBA" }
                    ]
                  }
                ]
              },
              "title": "DBA",
              "creator": "users/support@bytebase.com",
              "description": "The system defines the approval process and only needs DBA approval."
            },
            "condition": {
              "expression": "source == \"DDL\" && level == 200 || source == \"DDL\" && level == 100"
            }
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      {
                        "type": "ANY_IN_GROUP",
                        "groupValue": "WORKSPACE_OWNER"
                      }
                    ]
                  }
                ]
              },
              "title": "Workspace Admin",
              "creator": "users/support@bytebase.com",
              "description": "The system defines the approval process and only needs Administrator approval."
            },
            "condition": {}
          },
          {
            "template": {
              "flow": {
                "steps": [
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "PROJECT_OWNER" }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      { "type": "ANY_IN_GROUP", "groupValue": "WORKSPACE_DBA" }
                    ]
                  },
                  {
                    "type": "ANY",
                    "nodes": [
                      {
                        "type": "ANY_IN_GROUP",
                        "groupValue": "WORKSPACE_OWNER"
                      }
                    ]
                  }
                ]
              },
              "title": "Project Owner -> DBA -> Workspace Admin",
              "creator": "users/support@bytebase.com",
              "description": "The system defines the approval process, first the project Owner approves, then the DBA approves, and finally the Administrator approves."
            },
            "condition": {}
          }
        ]
      }
    }
  }
}
